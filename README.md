# PhoneNet — 手机网络管控

PhoneNet 是一款“网络管控/断网限制白名单”工具。开启后，除白名单中选定的应用外，其他应用的联网请求都会被本地拦截并丢弃，从而达到“只允许指定应用联网”的效果。适合家长限制子女的手机使用，无需 Root。

## 主要功能

- 一键启动/停止管控：在主界面点击“启动管控”或“停止管控”即可。
- 白名单管理：在设置页勾选允许联网的应用（如学习 App、支付 App 等）。
- 设置页 PIN 保护：首次进入设置需创建 PIN，后续进入需要输入 PIN，避免被随意更改设置。
- 设备管理权限入口：可在设置页启用设备管理权限，用于家长控制入口（不强制）。
- 前台运行提示：管控开启后会在状态栏显示“网络管控运行中”，确保服务稳定运行。
- 可选 SMTP 测试邮件：支持配置 SMTP 邮件，并向家长邮箱发送“测试邮件”验证配置是否有效。
- 开机自启（可选）：开启后，设备重启后会自动尝试恢复管控。

提示：当前版本仅提供 SMTP“测试邮件”功能，用于验证您的邮件配置；不包含自动告警或行为通知等高级邮件功能。

## 产品优势

- 无需 Root，全设备通用。
- 本地拦截：所有非白名单流量在本地丢弃，不上传、不代理，保护隐私。
- 简洁可控：主界面一键开关，设置页有 PIN 门禁，防止设置被随意更改。
- 轻量稳定：前台服务运行，降低被系统回收的概率。

## 安装与使用

1. 安装并打开 PhoneNet。
2. 首次启动时：
   - 同意“VPN 连接”授权（用于进行网络管控）。
   - Android 13 及以上还需允许“通知权限”，以显示前台运行通知。
3. 进入“设置”：
   - 设置 PIN：首次进入设置需要创建并确认 PIN。
   - 启用设备管理权限（可选）：用于家长控制入口。
   - 白名单应用：勾选允许联网的应用，其余应用将被断网。
   - 家长邮箱（可选）：填写邮箱并配置 SMTP 服务器参数，点击“发送测试邮件”验证是否成功。
   - 开机自启（可选）：打开“开机自动启动”，重启后可自动尝试开启管控。
4. 返回主界面，点击“启动管控”。
5. 需要临时恢复所有应用联网时，点击“停止管控”。

## 使用注意事项

- 联网影响范围：开启管控后，除白名单外的所有应用（包括浏览器、社交、游戏等）都会无法联网；若系统更新、应用商店等需要联网，请将其加入白名单或暂时停止管控。
- 排他性：系统同一时间只能开启一个 VPN。若您使用其他 VPN/加速器，需停止其中之一。
- 通知权限与前台服务：请保持通知开启，以保障前台服务的稳定运行，避免被系统杀死。
- 后台运行与省电策略：为保证管控稳定，建议在系统的电池与后台限制设置中允许 PhoneNet 常驻运行。
- 忘记 PIN：若忘记设置页 PIN，可清除应用数据或卸载后重新安装（会丢失已有配置）。
- 开机自启兼容性：不同厂商的系统对自启策略不同，可能需要在系统设置中额外允许自启或后台运行。
- IPv6 支持：若设备或网络不支持 IPv6，管控会以 IPv4 为主，功能不受影响。
- 邮件配置安全：SMTP 账号与密码由您自行保存与使用，建议使用专用邮箱或应用密码，避免与个人主邮箱同一密码。

## 权限说明

- 权限：用于本地实现网络管控。
- 通知权限（Android 13+）：用于显示前台运行通知，保持稳定运行。
- 查询所有应用（QUERY_ALL_PACKAGES）：用于扫描并展示可加入白名单的应用列表。
- 开机广播：用于在设备重启、解锁后尝试自动启动管控（如您开启了自启）。
- 网络访问（INTERNET）：仅用于 SMTP 测试邮件发送；不进行代理或上传用户流量。

## 隐私与安全

- 本应用不收集、不上传您的上网数据。
- 管控通过本地虚拟网络接口丢弃非白名单流量，不会外发流量。
- SMTP 功能仅在您主动测试时发送测试邮件到您指定的邮箱。

## 常见问题

- 为什么网页/应用打不开？
  - 可能未加入白名单。请在设置页勾选该应用或暂时停止管控。
- 如何允许某个应用联网？
  - 打开设置页，在“白名单应用”中勾选该应用。
- 为什么需要通知权限？
  - 为了显示前台服务通知，提升稳定性，避免服务被系统终止。
- 与其他 VPN 是否兼容？
  - 不兼容。同一时间只能启用一个 VPN。
- 开机自启不起作用怎么办？
  - 请检查系统的自启与后台限制设置，确保允许 PhoneNet 自启与常驻运行。

## 已知限制

- 无法管制非联网 APP 的使用，例如离线游戏、视频音乐文件的播放等行为。

## 免责声明

PhoneNet 旨在提供“白名单联网”的本地网络管控工具。请合法、合规地使用本应用。因用户自行配置导致的可用性或连通性问题（例如误把必要应用排除在白名单外）由用户自行承担。

—— 感谢使用 PhoneNet
